import{i as B,a2 as w,r as L,G as q,a3 as N,a4 as E,a5 as T,s as U,a6 as I,l as P,R as _,a7 as F,a8 as H,B as m,a9 as j,aa as k,ab as V,ac as D,ad as z,h as M,k as W,ae as G}from"./qEjioCoo.js";const $=(...t)=>t.find(l=>l!==void 0);function Q(t){const l=t.componentName||"NuxtLink";function h(e){return typeof e=="string"&&e.startsWith("#")}function p(e,a){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return O(e,t.trailingSlash);const b="path"in e&&e.path!==void 0?e.path:a(e).path;return{...e,name:void 0,path:O(b,t.trailingSlash)}}function S(e){const a=w(),b=M(),i=m(()=>!!e.target&&e.target!=="_self"),o=m(()=>{const c=e.to||e.href||"";return typeof c=="string"&&j(c,{acceptRelative:!0})}),x=_("RouterLink"),g=x&&typeof x!="string"?x.useLink:void 0,v=m(()=>{if(e.external)return!0;const c=e.to||e.href||"";return typeof c=="object"?!1:c===""||o.value}),n=m(()=>{const c=e.to||e.href||"";return v.value?c:p(c,a.resolve)}),f=v.value||g==null?void 0:g({...e,to:n}),y=m(()=>{var c;if(!n.value||o.value||h(n.value))return n.value;if(v.value){const R=typeof n.value=="object"&&"path"in n.value?k(n.value):n.value,C=typeof R=="object"?a.resolve(R).href:R;return p(C,a.resolve)}return typeof n.value=="object"?((c=a.resolve(n.value))==null?void 0:c.href)??null:p(V(b.app.baseURL,n.value),a.resolve)});return{to:n,hasTarget:i,isAbsoluteUrl:o,isExternal:v,href:y,isActive:(f==null?void 0:f.isActive)??m(()=>n.value===a.currentRoute.value.path),isExactActive:(f==null?void 0:f.isExactActive)??m(()=>n.value===a.currentRoute.value.path),route:(f==null?void 0:f.route)??m(()=>a.resolve(n.value)),async navigate(){await D(y.value,{replace:e.replace,external:v.value||i.value})}}}return B({name:l,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:S,setup(e,{slots:a}){const b=w(),{to:i,href:o,navigate:x,isExternal:g,hasTarget:v,isAbsoluteUrl:n}=S(e),f=L(!1),y=L(null),c=r=>{var s;y.value=e.custom?(s=r==null?void 0:r.$el)==null?void 0:s.nextElementSibling:r==null?void 0:r.$el};function R(r){var s,u;return!f.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===r:((s=e.prefetchOn)==null?void 0:s[r])??((u=t.prefetchOn)==null?void 0:u[r]))&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!X()}async function C(r=q()){if(f.value)return;f.value=!0;const s=typeof i.value=="string"?i.value:g.value?k(i.value):b.resolve(i.value).fullPath,u=g.value?new URL(s,window.location.href).href:s;await Promise.all([r.hooks.callHook("link:prefetch",u).catch(()=>{}),!g.value&&!v.value&&z(i.value,b).catch(()=>{})])}if(R("visibility")){const r=q();let s,u=null;N(()=>{const d=J();E(()=>{s=T(()=>{var A;(A=y==null?void 0:y.value)!=null&&A.tagName&&(u=d.observe(y.value,async()=>{u==null||u(),u=null,await C(r)}))})})}),U(()=>{s&&I(s),u==null||u(),u=null})}return()=>{var u;if(!g.value&&!v.value&&!h(i.value)){const d={ref:c,to:i.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(R("interaction")&&(d.onPointerenter=C.bind(null,void 0),d.onFocus=C.bind(null,void 0)),f.value&&(d.class=e.prefetchedClass||t.prefetchedClass),d.rel=e.rel||void 0),P(_("RouterLink"),d,a.default)}const r=e.target||null,s=$(e.noRel?"":e.rel,t.externalRelAttribute,n.value||v.value?"noopener noreferrer":"")||null;return e.custom?a.default?a.default({href:o.value,navigate:x,prefetch:C,get route(){if(!o.value)return;const d=new URL(o.value,window.location.href);return{path:d.pathname,fullPath:d.pathname,get query(){return F(d.search)},hash:d.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:o.value}},rel:s,target:r,isExternal:g.value||v.value,isActive:!1,isExactActive:!1}):null:P("a",{ref:y,href:o.value||null,rel:s,target:r},(u=a.default)==null?void 0:u.call(a))}}})}const Z=Q(H);function O(t,l){const h=l==="append"?W:G;return j(t)&&!t.startsWith("http")?t:h(t,!0)}function J(){const t=q();if(t._observer)return t._observer;let l=null;const h=new Map,p=(e,a)=>(l||(l=new IntersectionObserver(b=>{for(const i of b){const o=h.get(i.target);(i.isIntersecting||i.intersectionRatio>0)&&o&&o()}})),h.set(e,a),l.observe(e),()=>{h.delete(e),l==null||l.unobserve(e),h.size===0&&(l==null||l.disconnect(),l=null)});return t._observer={observe:p}}const K=/2g/;function X(){const t=navigator.connection;return!!(t&&(t.saveData||K.test(t.effectiveType)))}export{Z as _};
