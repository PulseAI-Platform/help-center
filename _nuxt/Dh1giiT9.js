import{a as N,b as w,c as L,u as q,o as B,ae as E,af as T,M as U,ag as I,J as P,a3 as _,ah as F,ai as H,S as b,aj as j,ak as k,al as V,am as D,an as M,v as z,I as W,ao as $}from"./7Mg-_QcM.js";const G=(...t)=>t.find(l=>l!==void 0);function J(t){const l=t.componentName||"NuxtLink";function h(e){return typeof e=="string"&&e.startsWith("#")}function p(e,a){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return O(e,t.trailingSlash);const m="path"in e&&e.path!==void 0?e.path:a(e).path;return{...e,name:void 0,path:O(m,t.trailingSlash)}}function S(e){const a=w(),m=z(),i=b(()=>!!e.target&&e.target!=="_self"),o=b(()=>{const c=e.to||e.href||"";return typeof c=="string"&&j(c,{acceptRelative:!0})}),x=_("RouterLink"),g=x&&typeof x!="string"?x.useLink:void 0,v=b(()=>{if(e.external)return!0;const c=e.to||e.href||"";return typeof c=="object"?!1:c===""||o.value}),n=b(()=>{const c=e.to||e.href||"";return v.value?c:p(c,a.resolve)}),f=v.value||g==null?void 0:g({...e,to:n}),y=b(()=>{var c;if(!n.value||o.value||h(n.value))return n.value;if(v.value){const C=typeof n.value=="object"&&"path"in n.value?k(n.value):n.value,R=typeof C=="object"?a.resolve(C).href:C;return p(R,a.resolve)}return typeof n.value=="object"?((c=a.resolve(n.value))==null?void 0:c.href)??null:p(V(m.app.baseURL,n.value),a.resolve)});return{to:n,hasTarget:i,isAbsoluteUrl:o,isExternal:v,href:y,isActive:(f==null?void 0:f.isActive)??b(()=>n.value===a.currentRoute.value.path),isExactActive:(f==null?void 0:f.isExactActive)??b(()=>n.value===a.currentRoute.value.path),route:(f==null?void 0:f.route)??b(()=>a.resolve(n.value)),async navigate(){await D(y.value,{replace:e.replace,external:v.value||i.value})}}}return N({name:l,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:S,setup(e,{slots:a}){const m=w(),{to:i,href:o,navigate:x,isExternal:g,hasTarget:v,isAbsoluteUrl:n}=S(e),f=L(!1),y=L(null),c=r=>{var s;y.value=e.custom?(s=r==null?void 0:r.$el)==null?void 0:s.nextElementSibling:r==null?void 0:r.$el};function C(r){var s,u;return!f.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===r:((s=e.prefetchOn)==null?void 0:s[r])??((u=t.prefetchOn)==null?void 0:u[r]))&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!X()}async function R(r=q()){if(f.value)return;f.value=!0;const s=typeof i.value=="string"?i.value:g.value?k(i.value):m.resolve(i.value).fullPath,u=g.value?new URL(s,window.location.href).href:s;await Promise.all([r.hooks.callHook("link:prefetch",u).catch(()=>{}),!g.value&&!v.value&&M(i.value,m).catch(()=>{})])}if(C("visibility")){const r=q();let s,u=null;B(()=>{const d=Q();E(()=>{s=T(()=>{var A;(A=y==null?void 0:y.value)!=null&&A.tagName&&(u=d.observe(y.value,async()=>{u==null||u(),u=null,await R(r)}))})})}),U(()=>{s&&I(s),u==null||u(),u=null})}return()=>{var u;if(!g.value&&!v.value&&!h(i.value)){const d={ref:c,to:i.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(C("interaction")&&(d.onPointerenter=R.bind(null,void 0),d.onFocus=R.bind(null,void 0)),f.value&&(d.class=e.prefetchedClass||t.prefetchedClass),d.rel=e.rel||void 0),P(_("RouterLink"),d,a.default)}const r=e.target||null,s=G(e.noRel?"":e.rel,t.externalRelAttribute,n.value||v.value?"noopener noreferrer":"")||null;return e.custom?a.default?a.default({href:o.value,navigate:x,prefetch:R,get route(){if(!o.value)return;const d=new URL(o.value,window.location.href);return{path:d.pathname,fullPath:d.pathname,get query(){return F(d.search)},hash:d.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:o.value}},rel:s,target:r,isExternal:g.value||v.value,isActive:!1,isExactActive:!1}):null:P("a",{ref:y,href:o.value||null,rel:s,target:r},(u=a.default)==null?void 0:u.call(a))}}})}const Z=J(H);function O(t,l){const h=l==="append"?W:$;return j(t)&&!t.startsWith("http")?t:h(t,!0)}function Q(){const t=q();if(t._observer)return t._observer;let l=null;const h=new Map,p=(e,a)=>(l||(l=new IntersectionObserver(m=>{for(const i of m){const o=h.get(i.target);(i.isIntersecting||i.intersectionRatio>0)&&o&&o()}})),h.set(e,a),l.observe(e),()=>{h.delete(e),l==null||l.unobserve(e),h.size===0&&(l==null||l.disconnect(),l=null)});return t._observer={observe:p}}const K=/2g/;function X(){const t=navigator.connection;return!!(t&&(t.saveData||K.test(t.effectiveType)))}export{Z as _};
